(this["webpackJsonpdaily-calorie-counter"]=this["webpackJsonpdaily-calorie-counter"]||[]).push([[0],{180:function(e,a,t){},181:function(e,a,t){},184:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(17),l=t.n(o),c=t(18),i=(t(78),t(44)),u=t.n(i),s=t(67),d=t(13),m=t(14),b=t(15),p=t(42),f=t.n(p),v=t(8),h=t.n(v),g=[{id:h()(),value:"rice",label:"Rice",kcal:351,portion:100},{id:h()(),value:"chicken breast",label:"Chicken breast",kcal:164,portion:100},{id:h()(),value:"beef",label:"Beef",kcal:250,portion:100},{id:h()(),value:"millet",label:"Millet",kcal:378,portion:100},{id:h()(),value:"potatos",label:"Potatos",kcal:77,portion:100},{id:h()(),value:"cottage cheese",label:"Cottage Cheese",kcal:98,portion:100},{id:h()(),value:"donut",label:"Donut",kcal:452,portion:100},{id:h()(),value:"pasta",label:"Pasta",kcal:131,portion:100},{id:h()(),value:"bread roll",label:"Bread Roll",kcal:310,portion:100},{id:h()(),value:"curly",label:"Curly",kcal:500,portion:100}],E=Object(n.createContext)(),O=function(e){var a=Object(n.useState)(g),t=Object(b.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)([]),i=Object(b.a)(c,2),p=i[0],v=i[1],h=Object(n.useState)([0]),O=Object(b.a)(h,2),k=O[0],j=O[1],y=Object(n.useState)([]),_=Object(b.a)(y,2),C=_[0],x=_[1],N=function(){var e=Object(s.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.floor(t*a/100),v(p.map((function(e){return e.id===n?Object(d.a)({},e,{newKcal:r}):e})));case 2:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("meals"));x(e)}),[o]),Object(n.useEffect)((function(){if(p.length>0){var e=p.map((function(e){return e.newKcal?e.newKcal:e.kcal})).reduce((function(e,a){return e+a}));j(Math.floor(e))}else j(0);try{var a=[].concat(Object(m.a)(C),Object(m.a)(p)),t=JSON.stringify(a);localStorage.setItem("meals",t)}catch(n){return console.log(n)}}),[p,C]),r.a.createElement(E.Provider,{value:{meals:o,setMeals:l,todayMeals:p,addTodayMeal:function(e){var a=f()();a=a.format("DD-MM-YYYY"),v([].concat(Object(m.a)(p),[Object(d.a)({},e,{date:a})]))},removeMeal:function(e){var a=p;a.splice(e,1),v(Object(m.a)(a))},changePortion:N,caloriesCount:k,savedMeals:C}},e.children)},k=Object(n.createContext)(),j=function(e){var a=Object(n.useState)(),t=Object(b.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(),i=Object(b.a)(c,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("meals")).map((function(e){return{date:e.date,kcal:e.kcal}})),a=Object.values(e.reduce((function(e,a){var t=a.kcal,n=a.date;return e[n]?e[n].kcal+=t:e[n]=Object.assign({},{kcal:t,date:n}),e}),{})),t=a.map((function(e){return e.kcal})),n=a.map((function(e){return e.date}));l(t),s(n)}),[]),r.a.createElement(k.Provider,{value:{data:o,labels:u}},e.children)},y=(t(82),t(6)),_=t(72),C=(t(83),function(){var e=Object(n.useContext)(E),a=e.meals,t=e.addTodayMeal,o={control:function(e,a){return Object(d.a)({},e,{background:"#000",border:"1px solid rgba(254, 145, 102, 0.25)",boxSizing:"border-box",borderRadius:"20px",width:"100%",height:"32px",padding:"0 15px",boxShadow:"0 0 18px #FE9166",cursor:"pointer"})},menu:function(e){return Object(d.a)({},e,{width:"100%",zIndex:"110",background:"#000"})},singleValue:function(e){return Object(d.a)({},e,{color:"#fff"})}};return r.a.createElement("div",{className:"inputbar__container"},r.a.createElement(_.a,{options:a,value:void 0,onChange:function(e){t(e)},placeholder:"Type your meal",isSearchable:!0,styles:o,theme:function(e){return Object(d.a)({},e,{borderRadius:0,colors:Object(d.a)({},e.colors,{primary25:"#FE9166",primary:"#FE9166"})})}}))}),x=t(25),N=t(7),w=(t(88),function(){var e=Object(n.useContext)(E),a=e.todayMeals,t=e.removeMeal,o=e.changePortion,l=function(e){t(e)},c=function(e){var a=e.target.value,t=e.target.getAttribute("kcal"),n=e.target.id;o(a,t,n)},i=[N.h,N.f,N.e,N.b,N.g,N.a,N.d],u=a.length>0?a.map((function(e,a){var t=e.newKcal?e.newKcal:e.kcal;return r.a.createElement("div",{className:"today-meal__meal",key:a},r.a.createElement("h1",{className:"today-meal__title"},e.label),r.a.createElement("form",{className:"today-meal__specifications"},r.a.createElement("span",null,r.a.createElement("input",{className:"today-meal__input",type:"number",min:"1",max:"9999",defaultValue:e.portion,name:"portion",kcal:e.kcal,id:e.id,onChange:c})," g"),r.a.createElement("span",{className:"today-meal__value"},r.a.createElement("strong",null,t)," kcal"),r.a.createElement("div",{className:"today-meal__delete",onClick:l})))})):r.a.createElement("p",{className:"today-meal__placeholder"},"Choose some eated ",r.a.createElement(x.a,{icon:i[Math.floor(Math.random()*i.length)],size:"2x"}));return r.a.createElement("div",{className:"today-meal__container"},u)}),S=(t(89),function(){var e=Object(n.useContext)(E).caloriesCount;return r.a.createElement("div",{className:"daily-balance__container"},r.a.createElement("p",null,"Today you eated: ",r.a.createElement("strong",{className:"daily-balance__score"},e)," kalories"))}),M=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement(w,null),r.a.createElement(S,null))},B=t(68),R=(t(180),function(){var e=Object(n.useContext)(k),a=e.data,t={labels:e.labels,datasets:[{label:"Kalories eated",fill:!0,lineTension:.8,backgroundColor:"rgba(25, 159, 132, 0.2)",borderColor:"rgb(25, 159, 132)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"rgb(25, 159, 132)",maintainAspectRatio:!1,pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:a}]};return r.a.createElement("div",{className:"chart__container"},r.a.createElement(B.a,{data:t}))}),J=(t(181),function(){var e;return e="/"===Object(y.e)().pathname?r.a.createElement(c.b,{to:"/chart"},r.a.createElement(x.a,{className:"Navbar__icon",icon:N.c,size:"2x"})):r.a.createElement(c.b,{to:"/"},r.a.createElement(x.a,{className:"Navbar__icon",icon:N.i,size:"2x"})),r.a.createElement("nav",{className:"Navbar__container"},e)});var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null,r.a.createElement(J,null),r.a.createElement(y.a,{exact:!0,path:"/",component:M}),r.a.createElement(j,null,r.a.createElement(y.a,{path:"/chart",component:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(c.a,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},73:function(e,a,t){e.exports=t(184)},78:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.5fbd4158.chunk.js.map